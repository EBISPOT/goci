<div id="toc" class="toc">
<div id="toctitle">OLS API</div>
<ul class="sectlevel0">
<li><a href="#overview">Overview</a>
<ul class="sectlevel1">
<li><a href="#overview-http-verbs">HTTP verbs</a></li>
<li><a href="#overview-http-status-codes">HTTP status codes</a></li>
<li><a href="#overview-errors">Errors</a></li>
<li><a href="#overview-hypermedia">Hypermedia</a></li>
<li><a href="#overview-pagination">Listing resources</a>
<ul class="sectlevel2">
<li><a href="#_paging_resources">Paging resources</a>
<ul class="sectlevel3">
<li><a href="#_example_request">Example request</a></li>
<li><a href="#_example_response">Example response</a></li>
<li><a href="#_response_structure">Response structure</a></li>
<li><a href="#resources-page-links">Links</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#resources">Resources</a>
<ul class="sectlevel1">
<li><a href="#resources-api">API</a>
<ul class="sectlevel2">
<li><a href="#resources-api-access">Accessing the API</a>
<ul class="sectlevel3">
<li><a href="#_example_request_2">Example request</a></li>
<li><a href="#_response_structure_2">Response structure</a></li>
<li><a href="#_example_response_2">Example response</a></li>
<li><a href="#resources-api-links">Links</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h1 id="overview" class="sect0"><a class="anchor" href="#overview"></a>Overview</h1>
<div class="sect1">
<h2 id="overview-http-verbs"><a class="anchor" href="#overview-http-verbs"></a>HTTP verbs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This API supports the following HTTP verbs.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Verb</th>
<th class="tableblock halign-left valign-top">Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GET</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to retrieve a resource</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="overview-http-status-codes"><a class="anchor" href="#overview-http-status-codes"></a>HTTP status codes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This API tries to adhere as closely as possible to standard HTTP and REST conventions in its
use of HTTP status codes.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Status code</th>
<th class="tableblock halign-left valign-top">Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>200 OK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The request completed successfully</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>400 Bad Request</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The request was malformed. The response body will include an error providing further information</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>404 Not Found</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The requested resource did not exist</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="overview-errors"><a class="anchor" href="#overview-errors"></a>Errors</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Whenever an error response (status code &gt;= 400) is returned, the body will contain a JSON object
that describes the problem. The error object has the following structure:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>error</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The HTTP error that occurred, e.g. <code>Bad Request</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>message</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A description of the cause of the error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>path</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The path to which the request was made</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>status</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Number</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The HTTP status code, e.g. <code>400</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>timestamp</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Number</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The time, in milliseconds, at which the error occurred</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For example, a request that attempts to apply a non-existent tag to a resource will produce a
<code>400 Bad Request</code> response:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-http" data-lang="http">HTTP/1.1 400 Bad Request
Content-Type: application/json;charset=UTF-8
Content-Length: 153

{"timestamp":1481194133951,"status":400,"error":"Bad Request","message":"The tag 'http://localhost:8080/api/studies/123' does not exist","path":"/notes"}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview-hypermedia"><a class="anchor" href="#overview-hypermedia"></a>Hypermedia</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This API uses hypermedia and resources include links to other resources in their
responses. Responses are in <a href="http://stateless.co/hal_specification.html">Hypertext Application
Language (HAL)</a> format. Links can be found benath the <code>_links</code> key. Users of the API should
not created URIs themselves, instead they should use the above-described links to navigate
from resource to resource.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview-pagination"><a class="anchor" href="#overview-pagination"></a>Listing resources</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Requests that return multiple resources will be paginated to 20 items by default. You can change number of items
returned using the <code>size</code> parameter up to a maximum of 500 for a single request. The API also supports the <code>page</code>
parameter for accessing a specific page of items.</p>
</div>
<div class="sect2">
<h3 id="_paging_resources"><a class="anchor" href="#_paging_resources"></a>Paging resources</h3>
<div class="paragraph">
<p>Links will be provided in the response to navigate the resources.</p>
</div>
<div class="sect3">
<h4 id="_example_request"><a class="anchor" href="#_example_request"></a>Example request</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ curl 'http://localhost:8080/api/studies?page=1&amp;size=1' -i</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_response"><a class="anchor" href="#_example_response"></a>Example response</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-http" data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json

{
  "_links" : {
    "first" : {
      "href" : "http://www.ebi.ac.uk/ols/api/ontologies?page=0&amp;size=1"
    },
    "prev" : {
      "href" : "http://www.ebi.ac.uk/ols/api/ontologies?page=0&amp;size=1"
    },
    "self" : {
      "href" : "http://www.ebi.ac.uk/ols/api/ontologies"
    },
    "next" : {
      "href" : "http://www.ebi.ac.uk/ols/api/ontologies?page=2&amp;size=1"
    },
    "last" : {
      "href" : "http://www.ebi.ac.uk/ols/api/ontologies?page=140&amp;size=1"
    }
  },
  "_embedded" : {
    ...
  },
  "page" : {
    "size" : 1,
    "totalElements" : 141,
    "totalPages" : 141,
    "number" : 1
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_response_structure"><a class="anchor" href="#_response_structure"></a>Response structure</h4>

</div>
<div class="sect3">
<h4 id="resources-page-links"><a class="anchor" href="#resources-page-links"></a>Links</h4>

</div>
</div>
</div>
</div>
<h1 id="resources" class="sect0"><a class="anchor" href="#resources"></a>Resources</h1>
<div class="sect1">
<h2 id="resources-api"><a class="anchor" href="#resources-api"></a>API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The api endpoint provides the entry point into the service.</p>
</div>
<div class="sect2">
<h3 id="resources-api-access"><a class="anchor" href="#resources-api-access"></a>Accessing the API</h3>
<div class="paragraph">
<p>A <code>GET</code> request is used to access the API</p>
</div>
<div class="sect3">
<h4 id="_example_request_2"><a class="anchor" href="#_example_request_2"></a>Example request</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ curl 'http://localhost:8080/api' -i -H 'Accept: application/json'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_response_structure_2"><a class="anchor" href="#_response_structure_2"></a>Response structure</h4>
<div class="paragraph">
<p>Unresolved directive in api.adoc - include::/Users/dani/Development/goci/goci-interfaces/goci-rest/src/main/asciidoc/generated-snippets/api-example/response-fields.adoc[]</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_response_2"><a class="anchor" href="#_example_response_2"></a>Example response</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight nowrap"><code class="language-http" data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
Content-Length: 2258

{
  "_links" : {
    "studies" : {
      "href" : "http://localhost:8080/api/studies{?page,size,sort}",
      "templated" : true
    },
    "countries" : {
      "href" : "http://localhost:8080/api/countries{?page,size,sort}",
      "templated" : true
    },
    "genomicContexts" : {
      "href" : "http://localhost:8080/api/genomicContexts{?page,size,sort}",
      "templated" : true
    },
    "ancestries" : {
      "href" : "http://localhost:8080/api/ancestries{?page,size,sort}",
      "templated" : true
    },
    "ensemblGenes" : {
      "href" : "http://localhost:8080/api/ensemblGenes{?page,size,sort}",
      "templated" : true
    },
    "platforms" : {
      "href" : "http://localhost:8080/api/platforms{?page,size,sort}",
      "templated" : true
    },
    "associations" : {
      "href" : "http://localhost:8080/api/associations{?page,size,sort}",
      "templated" : true
    },
    "loci" : {
      "href" : "http://localhost:8080/api/loci{?page,size,sort}",
      "templated" : true
    },
    "entrezGenes" : {
      "href" : "http://localhost:8080/api/entrezGenes{?page,size,sort}",
      "templated" : true
    },
    "singleNucleotidePolymorphisms" : {
      "href" : "http://localhost:8080/api/singleNucleotidePolymorphisms{?page,size,sort}",
      "templated" : true
    },
    "locations" : {
      "href" : "http://localhost:8080/api/locations{?page,size,sort}",
      "templated" : true
    },
    "genes" : {
      "href" : "http://localhost:8080/api/genes{?page,size,sort}",
      "templated" : true
    },
    "regions" : {
      "href" : "http://localhost:8080/api/regions{?page,size,sort}",
      "templated" : true
    },
    "riskAlleles" : {
      "href" : "http://localhost:8080/api/riskAlleles{?page,size,sort}",
      "templated" : true
    },
    "efoTraits" : {
      "href" : "http://localhost:8080/api/efoTraits{?page,size,sort}",
      "templated" : true
    },
    "mappingMetadatas" : {
      "href" : "http://localhost:8080/api/mappingMetadatas{?page,size,sort}",
      "templated" : true
    },
    "diseaseTraits" : {
      "href" : "http://localhost:8080/api/diseaseTraits{?page,size,sort}",
      "templated" : true
    },
    "profile" : {
      "href" : "http://localhost:8080/api/profile"
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="resources-api-links"><a class="anchor" href="#resources-api-links"></a>Links</h4>
<div class="paragraph">
<p>Unresolved directive in api.adoc - include::/Users/dani/Development/goci/goci-interfaces/goci-rest/src/main/asciidoc/generated-snippets/api-example/links.adoc[]</p>
</div>
</div>
</div>
</div>
</div>