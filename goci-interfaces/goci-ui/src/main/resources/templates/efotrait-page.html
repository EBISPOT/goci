<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="description"
          content="The NHGRI-EBI GWAS Catalog: a curated collection of all published genome-wide association studies, produced by a collaboration between EMBL-EBI and NHGRI"/>
    <meta name="keywords" content="GWAS Catalog, GWAS, NHGRI, EBI, EMBL-EBI, SPOT"/>
    <meta name="author" content="Tony Burdett, Emma Hastings, Dani Welter, SPOT, EMBL-EBI, NHGRI"/>
    <link rel="icon" href="../static/images/favicon.ico" th:href="@{images/favicon.ico}"/>

    <title>GWAS Catalog</title>
    <!-- Bootstrap core CSS -->
    <link href="../static/css/bootstrap.css" th:href="@{../../css/bootstrap.min.css}" rel="stylesheet"/>
    <!--xintodo disable for offline debug-->
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/themes/smoothness/jquery-ui.css"/>
    <!--rel="stylesheet"/>-->
    <link href="../static/css/bootstrap-table.css" th:href="@{../../css/bootstrap-table.css}" rel="stylesheet"/>
    <link href="../static/css/bootstrap-theme.css" th:href="@{../../css/bootstrap-theme.min.css}" rel="stylesheet"/>

    <!-- Custom styles for this template -->
    <link href="../static/css/jumbotron.css" th:href="@{../../css/jumbotron.css}" rel="stylesheet"/>
    <link href="../static/css/sticky-footer-navbar.css"
          th:href="@{../../css/sticky-footer-navbar.css}"
          rel="stylesheet"/>

    <!-- Additional styling on top of bootstrap -->
    <link rel="stylesheet" href="../static/css/goci-ui.css" th:href="@{../../css/goci-ui.css}"/>
    <link rel="stylesheet" href="../static/css/icons/flaticon.css" th:href="@{../../css/icons/flaticon.css}"/>
    <link rel="stylesheet"
          href="../static/css/goci-color-palette-1.css"
          th:href="@{../../css/goci-color-palette-1.css}"/>


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<!--Include header-->
<div th:include="fragments/header :: navbar"></div>

<!-- Main jumbotron for a primary marketing message or call to action -->
<div class="jumbotron background-color-primary-accent" style="margin: 0%; padding-bottom: 30px;">
    <div class="container clearfix">
        <div class="col-xs-7 col-md-7 col-xs-7 col-xs-7">
            <h2 style="margin:0px">
                <img alt="externalLink"
                     style="width: 1em; height: auto;"
                     src="../static/icons/owl3.png"
                     th:src="@{/icons/owl3.png}"/><span style="padding-left:10px">Trait</span><span id="top-panel-trait-label" th:text="${result.query}" style="padding-left:15px"></span>
            </h2>
        </div>
    </div>
</div>

<!--init search parameter-->
<div style="display: none">
<!--<div>-->
    <ul th:object="${result}" id="variables">
        <li id="query" th:text="*{query}">User query</li>
        <li id="facet" th:text="*{facet}">Facet</li>
        <li id="filter" th:text="*{filter}">Disease trait</li>
        <li id="included" th:text="*{included}">Included</li>
        <li id="checked" th:text="*{checked}">checked</li>
    </ul>
</div>
<!-- this is the main tag for all the cache data. -->
<div style="display:none" id="efo-info"></div>

<!--readme-->
<div class="container-fluid">
    <h4 class="glyphicon glyphicon-question-sign col-md-12" data-toggle="collapse" data-target="#demo">readme</h4>
    <div id="demo" class="collapse">
    <!--<div id="demo">-->
        <p>This readme button will be removed in production unless required.</p>
        <p>The trait page is designed to integrate/visualize information about a specific triat (refered as <b>mainEFO</b> in the rest of this document).
           The mainEFO is defined by the URL and can not be changed once the page is loaded.
           Methods are provides to add/remove additional interesting EFO traits on top of the mainEFO. The Manhattan plot/association table/study table will be dynamically updated as new EFO traits are added.
            Most of the page elements have popout tooltips when mouseover for a second.
           The page consists of 5 panel boxes:</p>
        <ul>
            <li><h3>Trait information:</h3><b>Displays a summary of the mainEFO.</b>

                <ul>
                    Basic Information(from <a href="http://www.ebi.ac.uk/ols/index">Ontology Lookup Service</a>):
                    <li><b>Label:</b> The mainEFO's label</li>
                    <li><b>Trait EFO id:</b> The mainEFO's id. Linked out to the mainEFO's OLS page.</li>
                    <li><b>Synonym(s:</b> The mainEFO's Synonym(s). Hidden if there are more than 5 synonyms for the mainEFO.)</li>
                    <li><b>Description:</b> The mainEFO's description.</li>
                </ul>
                <ul>
                    <li><b>Xrefs:</b> EFO may have cross-reference to other ontology terms. Here shows the mainEFO trait's cross-reference to other ontologies provided by <a href="http://www.ebi.ac.uk/spot/oxo/">Ontology Xref Service (OxO)</a>.
                                      A network view is visiable by clicking <button title="Click to show/hide more information" class="btn btn-default btn-xs btn-study"><span class="glyphicon tgb glyphicon-plus"></span></button>
                                      Here only shows cross-reference term with a <a href="http://www.ebi.ac.uk/spot/oxo/">distance</a> of 1 (direct cross reference).</li>
                </ul>
                <ul>
                    <li>Buttons of links to other relevent resources.</li>
                    <ul>
                        <li>A highlighted study is selected for this triat. The study information is by default hidden and you can toggle it by clicking <a class="btn btn-default" type="button">Highlighted Study</a>.
                            The highlighted study is choosen base on the initial sample size of the study. Currently the one has the largest
                            initial sample size annotated to the mainEFO trait is selected as the highlighted study.</li>
                    </ul>
                </ul>

            </li>
            <li><h3>Expand search:</h3> <b>This panel box displays the currently selected EFOs, including the mainEFO trait and any additional traits.
                                           A few approaches are provided to add/expand interesting EFO traits to the page.</b>
                <ul>
                    <li>
                        Action area contains four clickable buttons:
                        <ul>
                            <li>
                                <button type="button" class="btn btn-default cart-action-btn" title="Check/Uncheck all traits in list."><span class="glyphicon glyphicon-check" aria-hidden="true"></span></button>
                                Toggle check/uncheck all the checkbox in the selected trait box. The button is be disable when alway included trait subtype is enabled.
                            </li>
                            <li>
                                <button type="button" class="btn btn-default cart-action-btn" title="Add related trait(s) to list."><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></button>
                                Add related traits to the selected list. These usually includes EFO traits of disease measurements, biomarkers and other related traits defined in EFO.
                                These traits are only those related to the mainEFO, not for those subsequenctly added to the selected traut list.
                                For example, for the mainEFO [EFO_0000400 diabetes mellitus], the related traits include insulin measurement (EFO_0004467), diabetes mellitus biomarker (EFO_0006842) and other 7 EFOs.
                                This information is from OLS.
                            </li>
                            <li>
                                <button type="button" class="btn btn-default cart-action-btn"><span class="glyphicon glyphicon glyphicon-download" aria-hidden="true" title="Download all trait(s) in list."></span></button>
                                Download the current selected EFO trait list in a tab delimited file.
                            </li>
                            <li>
                                <button type="button" class="btn btn-default" title="copy sharable link to clipboard"><span class="glyphicon glyphicon-share" aria-hidden="true"></span></button>
                                Generate a sharable link containing the current status of the page, abd copy this link to your clipboard. This is used to share the page with your customized conbination of efo traits.
                            </li>
                        </ul>
                    </li>
                    <li>
                        Currently selected EFOs are displayed in a list:
                        <ul>
                            <li>
                                <div class="col-xs-12">
                                    <input type="checkbox" class="checkbox col-xs-1"  title="3 trait subtypes available in GWAS Catalog."></input> <a class="list-group-item cart-item col-xs-4" style="float: none"><span class="badge cart-item-category-badge" title="Metabolic disorder" style="background-color: rgb(253, 180, 98);">M</span><span class="badge cart-item-number-badge" title="Number of study" text="4">4</span><span class="badge cart-item-number-badge" title="Number of association" text="6">6</span>[EFO_0000400] diabetes mellitus</a>
                                </div>
                                Each item in the list represents an selected EFO trait. Association/study data from GWAS Catalog for this trait are displayed in the plot/tables.
                            </li>
                            <li>
                                <input type="checkbox" ></input>The ckechbox on the left of the item indicate the inclusion of trait subtypes. If checked, all the trait subtypes are included for this triat. For example, trait EFO_0000400 diabetes mellitus has
                            </li>
                            <li>
                                <span class="badge cart-item-category-badge" title="Metabolic disorder" style="background-color: rgb(253, 180, 98);">M</span>
                                This badge idicate the high-level parent EFO trait provided by <a href="wwwdev.ebi.ac.uk/gwas/beta/rest/api/parentMapping/EFO_0000400">GWAS Catalog</a>. For example, EFO_0000400 diabetes mellitus's  high-level parent EFO is
                                EFO_0000589 metabolic disease. The colour of the badge represent the parent EFO and is consistent with  <a href="http://localhost:8280/gwas/diagram">the GWAS Diagram</a>. The letter in the badge is the first init of the parent EFO label.
                            </li>

                            <li>
                                <span class="badge cart-item-number-badge" style="background-color: #398A96;float: none;" title="Number of association" text="6">6</span><span class="badge cart-item-number-badge" style="background-color: #398A96; float: none;" title="Number of study" text="4">4</span>
                                These two badges idicate the number of association/study annotated with this triat, or all its trait subtypes when the trait subtypes checkbox is checked.
                            </li>
                            <li>
                                <span class="badge" style="background-color: #398A96;float: none;" title="remove trait">X</span> The mainEFO cannot be removed from the selected trait list. For additional EFO traits added to the list, they can be removed by clicking this badge.
                            </li>

                            <li>
                                <input type="checkbox" checked="checked"></input><label>  Always include trait subtypes</label>: If check, trait subtypes will always be included. The individual checkbox and in the selected trait list will be disable. This is by default checked.
                            </li>
                            <li>
                                EFO trait can be toggled hightligh by single clicking it. The Manhattan will highlight the associations that annotated with the highlight triat.
                                <div>
                                    <a class="list-group-item cart-item col-xs-6 highlight" style="float: none;"><span class="badge cart-item-category-badge" title="Other measurement" style="background-color: rgb(0, 102, 153);">O</span><span class="badge">  X  </span><span class="badge cart-item-number-badge" title="Number of study" text="6">6</span><span  class="badge cart-item-number-badge" title="Number of association" text="12">12</span>[EFO_0004467] insulin measurement</a>
                                </div>
                            </li>
                        </ul>
                    </li>

                    <li>
                        Advance functions for adding additional traits: Three approaches are available to add EFO traits to the page.
                        <ul>
                            <li><b>EFO Search:</b> Enter text description or EFO id to search EFO trait from OLS. Click the suggested EFO will add it to the page.</li>
                            <li><b>EFO hierarchy:</b> Browse the EFO hierarchy structure for traits of interested. EFO can be expanded by clicking the <b>'+'</b> and can be selected(added to the page) by clicking the EFO name.</li>
                            <li><b>EFO network:</b> Browse the EFO network constructed by the mainEFO trait and all related EFO traits to see how they are connected. This cis provided by OLS with from the ontology field 'logical_description'.
                                                    Double click the node in the network to add it to the page.</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><h3>Manhattan plot (plot of Catalog associations for selected trait(s)):</h3>
                <a href="https://en.wikipedia.org/wiki/Manhattan_plot">Manhattan plot</a> implemented using Locus Zoom. This plot will be dynamically updated as new EFO traits are added to the page.
                Each data point in the plot represents an association the annotated with an EFO trait selected in the page.
                <ul>
                    <li>a popup containing association information will be acticated when mouseover the data point in the plot</li>
                    <li>Legend can be toggle by clicking the 'Show legend' button on the topright of the plot(the button is hidden until mouse over).</li>
                    <li>Associations are coloured base on its prefered parent EFO term. The colour is consistent with <a href="http://localhost:8280/gwas/diagram">the GWAS Diagram</a>.</li>
                    <li>When an EFO triat is selected in the EFO list, the association linked to that trait will be highlighted.</li>
                    <li>Click 'download image' to download an svg of the current plot.</li>
                </ul>
            </li>

            <li>
                <h3>Association table:</h3> All association found in the GWAS Catalog for the selected triat(s). The table is searchable, sortable, customizable, and can be download in different format.
            </li>
            <li>
                <h3>Studies table:</h3> All studies found in the GWAS Catalog for the selected triat(s). The table is searchable, sortable, customizable, and can be download in different format.
            </li>
        </ul>
    </div>
</div>



<!--main container-->
<div class="container-fluid" style="padding-top: 30px">
    <!--search meta data-->
    <ol class="breadcrumb background-color-complementary-accent">
        <li><a href="index.html" th:href="@{/home}">GWAS</a></li>
        <li><a href="#">Traits</a></li>
        <li class="active" th:text="${result.query}"></li>
    </ol>





    <!--disable when search is invalid-->
    <div class="container-fluid" id="lower_container">

        <!-- Summary panel -->
        <div class="row" style="margin-top:10px">
            <div id="summary-info" class="panel panel-default" style="padding-left:0px">
                <!--heading-->
                <div class="panel-heading background-color-primary-accent">
                    <h3 class="panel-title">Trait information
                        <span class="glyphicon glyphicon-question-sign"
                              data-toggle="tooltip"
                              title="Trait summary information displayed relates to specific EFO trait searched for."
                              style="margin-left:2px;font-size:smaller"></span>
                    </h3>
                </div>
                <!--trait summary-->
                <div class="clearfix" id="summary-panel-loading">
                    <div class="panel-body col-xs-10">
                        <!--label-->
                        <div class="clearfix col-xs-4">
                            <dl class="dl-horizontal">
                                <dt>Label</dt>
                                <dd id="efotrait-label">-</dd>
                            </dl>
                            <!--<div class="col-xs-4 col-md-5 col-xs-5 col-xs-5"-->
                            <!--style="font-weight: bold; margin-bottom: 1em;padding-left:0px">Label-->
                            <!--</div>-->
                            <!--<div class="col-xs-8 col-md-7 col-xs-7 col-xs-7" id="efotrait-label">-</div>-->
                        </div>
                        <!--id-->
                        <div class="clearfix col-xs-4">
                            <dl class="dl-horizontal">
                                <dt>Trait EFO id</dt>
                                <dd id="efotrait-id">-</dd>
                            </dl>
                            <!--<div class="col-xs-4 col-md-5 col-xs-5 col-xs-5"-->
                            <!--style="font-weight: bold; margin-bottom: 1em;padding-left:0px">Trait EFO id-->
                            <!--</div>-->
                            <!--<div class="col-xs-8 col-md-7 col-xs-7 col-xs-7" id="efotrait-id">-</div>-->
                        </div>
                        <!--synonym-->
                        <div class="clearfix col-xs-4">
                            <dl class="dl-horizontal">
                                <dt>Synonym(s)</dt>
                                <dd id="efotrait-synonym">-</dd>
                            </dl>
                            <!--<div class="col-xs-4 col-md-5 col-xs-5 col-xs-5"-->
                            <!--style="font-weight: bold; margin-bottom: 1em;padding-left:0px">Synonym(s)-->
                            <!--</div>-->
                            <!--<div class="col-xs-8 col-md-7 col-xs-7 col-xs-7" id="efotrait-synonym">-</div>-->
                        </div>
                        <!--description-->
                        <div class="clearfix col-xs-8">
                            <dl class="dl-horizontal">
                                <dt>Description</dt>
                                <dd id="efotrait-description">-</dd>
                            </dl>
                            <!--<div class="col-xs-4 col-md-5 col-xs-5 col-xs-5"-->
                            <!--style="font-weight: bold; margin-bottom: 1em;padding-left:0px">Description-->
                            <!--</div>-->
                            <!--<div class="col-xs-8 col-md-7 col-xs-7 col-xs-7" id="efotrait-description">-</div>-->
                        </div>
                        <!--oxo-->
                        <div class="clearfix col-xs-4">
                            <dl class="dl-horizontal">
                                <dt>Xrefs
                                    <span class="glyphicon glyphicon-question-sign"
                                          data-toggle="tooltip"
                                          title="Ontology mappings or cross-references in other ontoloies."
                                          style="margin-left:2px;font-size:smaller"></span>
                                </dt>
                                <dd>
                                    <div id="btn-oxo-expand">
                                        <!--<a class="btn btn-default" id="btn-toggle-oxo"-->
                                        <!--type="button"-->
                                        <!--data-toggle="collapse"-->
                                        <!--data-target="#oxo-graph"-->
                                        <!--aria-expanded="false">-->
                                        <!--+-->
                                        <!--</a>-->
                                    </div>
                                    <!--oxo graph-->
                                    <!--<div class="clearfix collapse col-xs-2 col-md-2 col-xs-2 col-xs-2" id="oxo-graph">-->
                                    <div class="clearfix collapse" id="oxo-graph">
                                        <div  class="panel-body">
                                            <div id="oxo-div" >
                                                <div id="oxo-list"></div>
                                                <div>
                                                    <div id="oxo-vis"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </dd>
                            </dl>
                        </div>
                    </div>

                    <div class="panel-body col-xs-2" id="panel-links">
                        <div>
                            <a class="btn btn-default"
                               type="button"
                               data-toggle="collapse"
                               data-target="#highlight-study-panel-loading"
                               aria-expanded="false"
                               aria-controls="collapseExample">
                                Highlighted Study
                                <span class="glyphicon glyphicon-question-sign"
                                      data-toggle="tooltip"
                                      title="GWAS Catalog study with largest initial sample size for specific EFO trait."
                                      style="margin-left:2px;font-size:smaller"></span>
                            </a>
                        </div>

                        <div>
                            <a type="button" class="btn btn-default" id='ols-link'>Trait in OLS
                                <span class="glyphicon glyphicon-new-window external-link"></span>
                            </a>
                        </div>

                        <div>
                            <a type="button" class="btn btn-default" id='oxo-link'>Trait in OXO
                                <span class="glyphicon glyphicon-new-window external-link"></span>
                            </a>
                        </div>


                    </div>

                </div>

                <!--highlighted study-->
                <div class="clearfix collapse" id="highlight-study-panel-loading">
                    <div  class="panel-body col-xs-12">
                        <!--title-->
                        <div class="clearfix col-xs-4">
                            <dl class="dl-horizontal">
                                <dt>Title</dt>
                                <dd id="efotrait-highlighted-study-title">-</dd>
                            </dl>
                        </div>
                        <!--author-->
                        <div class="clearfix col-xs-4">
                            <dl class="dl-horizontal">
                                <dt>Author</dt>
                                <dd id="efotrait-highlighted-study-author">-</dd>
                            </dl>
                        </div>
                        <!--Catalog Publish Date-->
                        <div class="clearfix col-xs-4">
                            <dl class="dl-horizontal">
                                <dt style="width: 160px;">Catalog Publish Date</dt>
                                <dd id="efotrait-highlighted-study-catalogPublishDate" style="margin-left: 190px">-</dd>
                            </dl>
                        </div>
                        <!--Abstract-->
                        <div class="clearfix col-xs-12">
                            <dl class="dl-horizontal">
                                <dt>Abstract</dt>
                                <dd id="efotrait-highlighted-study-abstract">-</dd>
                            </dl>
                        </div>
                    </div>

                </div>

                <!--first reported-->
                <div id="efotrait-summary">
                    <span class="glyphicon glyphicon-info-sign" id="efotrait-summary-icon"></span>
                    <span id="efotrait-summary-content"></span>
                </div>
            </div>
        </div>

        <div class="row search-results-container" id="search-results-container">
            <!--filter side box-->
            <div class="col-xs-5 tight-to-side" id="filter-bar">
                <div class="panel panel-default">
                    <div id="expand_float_panel" class="panel-heading background-color-primary-accent">
                        <h3 class="panel-title">Expand search
                            <span class="glyphicon glyphicon-question-sign"
                                  data-toggle="tooltip"
                                  title="Specify additional EFO traits to expand search. The Manhattan plot, association and study tables will be dynamically updated to reflect the traits selected here."
                                  style="margin-left:2px;font-size:smaller"></span>
                        </h3>
                        <span class="pull-right clickable"
                              onclick="toggleSidebarFlex('#expand_float_panel span.clickable',5,1)">
                                    <i class="glyphicon glyphicon-chevron-up"></i>
                                </span>
                    </div>


                    <div class="panel-body">
                        <!--current select-->
                        <div class="row" style="margin-top: 10px">
                            <div class="col-xs-12">
                                <!--selected header-->
                                <div class="col-xs-6">
                                    <h4 style="float:left;padding-left:0px">Current selected traits:</h4>
                                </div>
                                <!--action buttons-->
                                <div class="col-xs-6">
                                    <div class="col-xs-1.5" style="float:right;margin-bottom: 5px">
                                        <input type="text"
                                               id="sharable_link"
                                               class="col-xs-6"
                                               th:readonly="readonly"></input>
                                        <div>
                                        <button id="sharable_link_btn"
                                                type="button"
                                                class="btn btn-default"
                                                data-clipboard-target="#sharable_link"
                                                title="copy sharable link to clipboard">
                                          <span class="glyphicon glyphicon-share"
                                                aria-hidden="true"></span>
                                         </button>
                                        </div>
                                    </div>
                                    <div class="col-xs-1.5" style="float:right">

                                        <button id="btn-cart-action-download"
                                                type="button"
                                                class="btn btn-default cart-action-btn"
                                                title="Download all trait(s) in list.">
                                            <span class="glyphicon glyphicon glyphicon-download"
                                                  aria-hidden="true"></span>
                                        </button>
                                    </div>
                                    <div class="col-xs-1.5" style="float:right">
                                        <button id="btn-query-include-related-terms"
                                                type="button"
                                                class="btn btn-default cart-action-btn"
                                                title="Add related trait(s) to list.">
                                            <span class="glyphicon glyphicon-plus"
                                                  aria-hidden="true"></span>
                                        </button>
                                    </div>
                                    <div class="col-xs-1.5" style="float:right">
                                     <button id="btn-cart-toggle-check-cbs"
                                        type="button"
                                        class="btn btn-default cart-action-btn"
                                        title="Check/Uncheck all traits in list.">
                                            <span class="glyphicon glyphicon-check"
                                              aria-hidden="true"></span>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="list-group col-xs-12" id="cart-loading">
                                <div id="cart"></div>
                            </div>

                            <div class="col-xs-12" style="float:left">
                                <!--<input id="cb-query-include-descendants" type="checkbox" checked="checked"/>-->
                                <input id="cb-query-include-descendants" type="checkbox"/>
                                <label for="cb-query-include-descendants">  Always include trait subtypes</label>
                                <!--<input id="cb-query-include-descendants" type="checkbox" checked=""/>Descendants-->
                            </div>

                            <div class="col-xs-12" style="float:left">
                                <!--<input id="cb-query-include-descendants" type="checkbox" checked="checked"/>-->
                                <input id="cb-remove-nonunique-association" type="checkbox"/>
                                <label for="cb-remove-nonunique-association">  Remove associations with non-selected EFOs</label>
                                <!--<input id="cb-query-include-descendants" type="checkbox" checked=""/>Descendants-->
                            </div>

                            <div class="container row col-xs-12" style="margin-top: 10px">

                                <div id="filters">
                                    <h4>HighLight By ancestry</h4>

                                    <div class="col-xs-1.5" style="float:left">
                                        <div id="btn-ancestry-dropdown" class="button-group">
                                                <button type="button"
                                                        class="btn btn-default btn-sm dropdown-toggle"
                                                        data-toggle="dropdown"><span class="glyphicon glyphicon-user"></span> <span
                                                        class="caret"></span></button>
                                            <ul id="ancestry-dropdown-menu" class="dropdown-menu"></ul>
                                        </div>
                                    </div>



                                </div>

                                <!--<div>-->
                                    <!--<button type="button"-->
                                            <!--class="btn btn-default pull-right"-->
                                            <!--id="clear-filter">Clear all filters</button>-->
                                    <!--<button type="submit"-->
                                            <!--class="btn btn-default pull-right"-->
                                            <!--style="margin-right: 15px;">Apply filters</button>-->
                                <!--</div>-->
                            </div>
                        </div>

                        <!--<div class="row">-->
                        <!--trying bootstrap nav tab-->
                        <div class="container row col-xs-12">
                            <!--<ul class="nav nav-tabs">-->
                            <!--<li class="active"><a data-toggle="tab" href="#ols-search-div">Search for additional terms</a></li>-->
                            <!--<li><a data-toggle="tab" href="#ols-tree-div">Related in EFO hierarchy</a></li>-->
                            <!--<li><a data-toggle="tab" href="#ols-graph-div">Additional related terms eg. measurements and biomarkers</a></li>-->
                            <!--</ul>-->
                            <div class="col-xs-12">
                                <h4>Advance functions for adding additional traits:
                                    <span class="glyphicon glyphicon-question-sign"
                                          data-toggle="tooltip"
                                          title="Additional EFO traits can be searched for or browsed in the EFO hierarchy and network. Traits can then be added to the list of selected traits above."
                                          style="margin-left:2px;font-size:smaller"></span>
                                </h4>
                            </div>
                            <ul class="nav nav-tabs">
                                <li><a data-toggle="pill" href="#ols-search-div">EFO Search</a></li>
                                <li><a data-toggle="pill" href="#ols-tree-div">EFO Hierarchy</a></li>
                                <li><a data-toggle="pill" href="#ols-graph-div">EFO Network</a></li>

                            </ul>


                            <div class="tab-content">
                                <!--tree-->
                                <div id="ols-tree-div" class="tab-pane fade">
                                    <h4>Related traits in EFO hierarchy:</h4>
                                    <div id="term-tree"></div>
                                </div>
                                <!--ols-graph-->
                                <div id="ols-graph-div" class="tab-pane fade">
                                    <div id="expension">
                                        <h4>Additional related traits eg. measurements and biomarkers:</h4>
                                        <div>
                                            <div id="ontology_vis"></div>
                                        </div>
                                    </div>

                                </div>

                                <div id="ols-search-div" class="tab-pane fade">
                                    <h4>Search for additional trait:</h4>
                                    <div class="left">
                                        <label>
                                            <input style="font-weight: normal"
                                                   size="35"
                                                   type="text"
                                                   name="q"
                                                   data-olswidget="select"
                                                   data-olsontology="efo"
                                                   data-selectpath="http://www.ebi.ac.uk/ols/"
                                                   olstype=""
                                                   id="local-searchbox"
                                                   placeholder="Enter the term you are looking for"
                                                   class="ac_input">
                                            </input>
                                        </label>
                                    </div>
                                </div>

                                <!--&lt;!&ndash;oxo&ndash;&gt;-->
                                <!--<div id="oxo-div" class="tab-pane fade" >-->
                                <!--<h4>oxo:</h4>-->
                                <!--<div>-->
                                <!--<div id="oxo-vis" style="height:500px; width:500px; border:1px solid black;overflow: auto;"></div>-->
                                <!--</div>-->
                                <!--</div>-->

                            </div>
                        </div>
                        <!--</div>-->

                    </div>
                </div>
            </div>
            <!--plot, tables-->
            <div class="col-xs-7" id="results-area">
                <!-- List the available tables -->
                <div class="row" style="margin-top:0px">
                    <div id="table-list" class="panel clearfix" style="padding-left:0px;box-shadow:none">
                        <span style="margin-right:10px;font-weight:bold">Available data:</span>
                        <!--<button type="button"-->
                                <!--class="btn btn-default available-data-btn"-->
                                <!--onclick="toggle_and_scroll('#locus_panel')">-->
                    <!--<span class="locus_label">Manhattan plot</span><span class="glyphicon glyphicon-stats manhattan-plot-badge"></span>-->
                <!--</button>-->
                        <button type="button"
                                class="btn btn-default available-data-btn"
                                onclick="toggle_and_scroll('#association_panel')">
                    <span class="association_label">Associations</span><span class="association_count badge available-data-btn-badge"></span>
                </button>
                        <button type="button"
                                class="btn btn-default available-data-btn"
                                onclick="toggle_and_scroll('#study_panel')">
                    <span class="study_label">Studies</span><span class="study_count badge available-data-btn-badge"></span>
                </button>
                        <!--<button type="button" class="btn btn-default" style="margin-right:10px;font-weight:bold" onclick="toggle_and_scroll('#diseasetrait_panel')">-->
                        <!--<span class="diseasetrait_label">Traits</span><span class="diseasetrait_count badge" style="background-color: #398A96;margin-left:10px"></span>-->
                        <!--</button>-->
                    </div>
                </div>

                <!-- locus plot -->
                <div class="row" style="margin-top:20px" id="locus-plot-row-loading">
                    <div id="locus_panel" class="panel panel-default">
                        <div class="panel-heading background-color-primary-accent">
                            <h3 class="panel-title">
                                <span class="locus_label">Manhattan plot (plot of Catalog associations for selected trait(s))</span>
                                <span class="glyphicon glyphicon-stats manhattan-plot-badge"></span>
                                <span class="glyphicon glyphicon-question-sign"
                                      data-toggle="tooltip"
                                      title="Manhattan plot includes all traits selected in the expanded search."
                                      style="margin-left:2px;font-size:smaller"></span>
                            </h3>
                            <span class="pull-right">
                        <span class="clickable"
                              style="margin-left:25px"
                              onclick="toggleSidebar('#locus_panel span.clickable')">
                            <span class="glyphicon glyphicon-chevron-up"></span>
                        </span>
                    </span>
                        </div>
                        <!--<div class="panel-body" style="display:none">-->
                            <div class="panel-body">
                            <!-- locus plot -->
                            <!--<div id="plot" style=" width: 1000px; height: 900px;"></div>-->
                            <div id="plot"></div>
                        </div>
                    </div>
                </div>

                <!-- Associations table -->
                <div class="row" id="association-table-loading" style="margin-top:20px">
                    <div id="association_panel" class="panel panel-default">
                        <div class="panel-heading background-color-primary-accent">
                            <h3 class="panel-title">
                                <span class="association_label">Associations</span><span class="association_count badge available-data-btn-badge"></span>
                            </h3>
                            <span class="pull-right">
                        <!--<button type="button" class="btn btn-default btn-xs" id="download_data">-->
                        <!--<span class="glyphicon glyphicon-download-alt" style="padding-right:2px"></span>-->
                        <!--<span>Download association data</span>-->
                        <!--</button>-->
                        <span class="clickable panel-collapsed"
                              style="margin-left:25px"
                              onclick="toggleSidebar('#association_panel span.clickable')">
                            <span class="glyphicon glyphicon-chevron-down"></span>
                        </span>
                    </span>
                        </div>

                        <div class="panel-body" style="display:none">
                            <table id="association-table" class="table table-striped borderless "
                                   data-flat="true"
                                   data-show-export="true"
                                   data-search="true"
                                   data-show-columns="true"
                                   data-show-multi-sort="true">
                            </table>
                        </div>
                    </div>
                </div>




                <!-- Studies table -->
                <div class="row" id="study-table-loading" style="margin-top:20px">
                    <div id="study_panel" class="panel panel-default">
                        <div class="panel-heading background-color-primary-accent">
                            <h3 class="panel-title">
                                <span class="study_label">Studies</span><span class="study_count badge available-data-btn-badge"></span>
                            </h3>

                            <span class="pull-right clickable panel-collapsed"
                                  onclick="toggleSidebar('#study_panel span.clickable')">
                                 <span class="glyphicon glyphicon-chevron-down"></span>
                            </span>
                        </div>

                        <div class="panel-body" style="display:none">
                            <table id="study-table" class="table table-striped borderless"
                                   data-flat="true"
                                   data-show-export="true"
                                   data-search="true"
                                   data-show-columns="true"
                                   data-show-multi-sort="true">
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>




    </div>



    <!--<div data-name="dock" data-smarti="dock" data-dock-position="left"-->
    <!--data-dock-offset="20" style="width:100%; height:90%; margin:0px">-->

    <!--<div data-dock="true" style="width:50%; background-color:#f5f5f5; border-right:1px solid #ddd; padding:20px; overflow:scroll">-->
    <!--aaa-->
    <!--</div>-->
    <!--<div data-handle="true" class="h" style="left:-18px;"> <span class="glyphicon glyphicon-backward"></span></div>-->
    <!--<div data-handle="hidden" class="h" style="left:-15px;"><span class="glyphicon glyphicon-forward"></span></div>-->
    <!--<div data-content="true" style=" padding:20px;">-->
    <!--bbb-->
    <!--</div>-->
    <!--</div>-->


</div>

<!--Include footer-->
<div th:include="fragments/footer :: page_footer"></div>


<!-- Bootstrap core JavaScript
    ================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>


<script src="../static/js/bootstrap.min.js" th:src="@{../../js/bootstrap.min.js}"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/bootstrap-table.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/bootstrap-table.css"
      th:href="@{https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/bootstrap-table.css}"
      rel="stylesheet"/>



<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="../static/js/ie10-viewport-bug-workaround.js"
        th:src="@{../../js/ie10-viewport-bug-workaround.js}"></script>
<script>
    $(document).ready(() => {
        $('[data-toggle="tooltip"]').tooltip();
    });
</script>

<!-- GOCI JavaScript
================================================== -->
<script src="../static/js/goci-ui.js" th:src="@{../../js/goci-ui.js}"></script>
<script src="../static/js/efotraitresult.js" th:src="@{../../js/efotraitresult.js}"></script>

<!-- LocusZoom
================================================== -->
<script src="../static/js/plugins/locuszoom.vendor.min.js"
        th:src="@{../../js/plugins/locuszoom.vendor.min.js}"></script>
<script src="../static/js/plugins/locuszoom.app.js" th:src="@{../../js/plugins/locuszoom.app.js}"></script>
<link rel="stylesheet" href="../static/css/locuszoom.css" th:href="@{../../css/locuszoom.css}"/>

<!-- clipboardjs
================================================== -->
<script src="../static/js/plugins/clipboard.min.js" th:src="@{../../js/plugins/clipboard.min.js}"></script>

<!-- OLS-tree
================================================== -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/jstree.min.js"></script>
<script src="../static/js/plugins/ols-treeview.js" th:src="@{../../js/plugins/ols-treeview.js}"></script>
<link rel="stylesheet"
      href="../static/css/proton/style.min.css"
      th:href="@{../../css/proton/style.min.css}"
      media="screen"/>

<!-- OLS auto-suggest
================================================== -->
<link rel="stylesheet" href="../static/css/ols_auto_complete/ols.css" th:href="@{../../css/ols_auto_complete/ols.css}"/>
<link rel="stylesheet"
      href="../static/css/ols_auto_complete/ols-colors.css"
      th:href="@{../../css/ols_auto_complete/ols-colors.css}"/>
<link rel="stylesheet"
      href="../static/css/ols_auto_complete/typeaheadjs.css"
      th:href="@{../../css/ols_auto_complete/typeaheadjs.css}"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/corejs-typeahead/0.11.1/typeahead.bundle.min.js"></script>
<script src="../static/js/plugins/ols-autocomplete.js" th:src="@{../../js/plugins/ols-autocomplete.js}"></script>

<!-- OLS-graph
================================================== -->
<link rel="stylesheet"
      href="../static/css/ols_graph/awesomplete.css"
      th:href="@{../../css/ols_graph/awesomplete.css}"
      type="text/css"/>
<link rel="stylesheet"
      href=".../static/css/ols_graph/OLS-graphview.css"
      th:href="@{../../css/ols_graph/OLS-graphview.css}"
      type="text/css"
      media="screen"/>
<link rel="stylesheet"
      href="../static/css/ols_graph/vis.min.css"
      th:href="@{../../css/ols_graph/vis.min.css}"
      type="text/css"/>
<script src="../static/js/plugins/ols-graphview.js" th:src="@{../../js/plugins/ols-graphview.js}"></script>

<!--vis.js-->
<script src="https://cdn.rawgit.com/almende/vis/master/dist/vis.js"></script>

<!--semantic ui for sidebar-->
<!--<script src="https://cdn.rawgit.com/Semantic-Org/UI-Sidebar/master/sidebar.js"></script>-->
<!--<link rel="stylesheet" href="https://cdn.rawgit.com/Semantic-Org/UI-Sidebar/master/sidebar.css" type="text/css"></link>-->
<!--<script src="http://tab-slide-out.googlecode.com/files/jquery.tabSlideOut.v1.3.js"></script>-->
<!--<script src="https://cdn.rawgit.com/nnattawat/slideReveal/master/dist/jquery.slidereveal.js"></script>-->


<!--oxo-grapg-->
<script src="../static/js/plugins/oxo-graph.js" th:src="@{../../js/plugins/oxo-graph.js}"></script>

<!-- loading overlay
================================================== -->
<script src="https://cdn.jsdelivr.net/jquery.loadingoverlay/latest/loadingoverlay.min.js"></script>

<!--bootstrap-table-flat-json-->
<script src="https://cdn.rawgit.com/wenzhixin/bootstrap-table/develop/dist/extensions/flat-json/bootstrap-table-flat-json.js"></script>
<script src="https://cdn.rawgit.com/wenzhixin/bootstrap-table/develop/dist/extensions/multiple-sort/bootstrap-table-multiple-sort.js"></script>
<script src="https://cdn.rawgit.com/wenzhixin/bootstrap-table/develop/dist/extensions/export/bootstrap-table-export.js"></script>
<script src="https://cdn.rawgit.com/wenzhixin/09e218c884f4f380b68a/raw/5d258d2f78225a4ac1a72d54a34cc7976d630df1/jquery.base64.js"></script>
<script src="https://cdn.rawgit.com/kayalshri/tableExport.jquery.plugin/master/tableExport.js"></script>


<!-- trait page
================================================== -->
<script src="../static/js/efotrait-locuszoom.js" th:src="@{../../js/efotrait-locuszoom.js}"></script>
<script src="../static/js/efotrait-util.js" th:src="@{../../js/efotrait-util.js}"></script>
<!--this come last to make sure trait page specific style is not overwritten by othe css.-->
<link rel="stylesheet" href="../static/css/goci-efotrait-page.css" th:href="@{../../css/goci-efotrait-page.css}"/>


<script type="text/javascript">

</script>

<!--local data-->
<script th:inline="javascript">
    /*<![CDATA[*/





    /*]]>*/



</script>



<script>
    //<![CDATA[
//    var smarti = this['smarti'] || { scope: this };
//
//    $(function () {
//        if (!smarti.initialized) {
//            smarti.initialized = true;
//            $('[data-smarti]').smarti();
//        }
//    })
//
//    $.fn.smarti = function () {
//        $.each(this.selector == '[data-smarti]' ? this : this.find('[data-smarti]'), function () {
//            var jq = $(this);
//            var opts = jq.data();
//            smarti.scope[opts.name] = new smarti[opts['smarti']](jq, opts);
//        });
//    }
//
//    smarti.dock = function (jq, opts) {
//        var that = this;
//        this.dockPosition = 'left';
//        this.dockOffset = 10;
//        this.container = jq.css({ overflow: 'hidden' });
//        $.extend(that, opts);
//
//        if (this.container.css('position') != 'absolute') this.container.css({ position: 'relative' });
//        this.dock = this.container.children('[data-dock]').css({ position: 'absolute', zIndex: 999 });
//        this.handle = this.container.children('[data-handle]').css({ position: 'absolute', zIndex: 1000 });
//        this.content = this.container.children('[data-content]').css({ position: 'absolute', top: 0, right: 0, bottom: 0, left: 0 });
//        this._storage = this.useStorage != null ? this.useStorage + 'Storage' : null;
//        if (this.container.height() == 0) {
//            this._autoHeight = true;
//            this.content.css({ bottom: 'auto' });
//        }
//
//        this._ap = function () { return that.dockPosition == 'left' || that.dockPosition == 'right' ? ['top', 'bottom'] : ['left', 'right'] }
//        this._ds = function () { return that._ap()[0] == 'top' ? that.dock.outerWidth(true) : that.dock.outerHeight(true) }
//
//        this._setHover = function () {
//            if (!that.docked) {
//                that.dock.mouseover(function () {
//                    if (!that._sliding && !that._hover) {
//                        that._sliding = true;
//                        that._hover = true;
//                        that.slide(function () { that._sliding = false; });
//                    }
//                });
//                that.content.mouseover(function () {
//                    if (!that._sliding && that._hover) {
//                        that._sliding = true;
//                        that._hover = false;
//                        that.slide(function () { that._sliding = false; });
//                    }
//                });
//            }
//            else {
//                that._hover = false;
//                that.dock.off('mouseover');
//                that.content.off('mouseover');
//            }
//        }
//        this._setDocked = function (docked) {
//            that.docked = docked;
//            if (that._storage != null && smarti.scope[that._storage] != null) smarti.scope[that._storage][that.name + 'Docked'] = docked ? '1' : '0';
//        }
//        this._getDocked = function () {
//            var d = that._storage != null && smarti.scope[that._storage] != null ? smarti.scope[that._storage][that.name + 'Docked'] : null;
//            return d != null ? d == '1' : (that.docked != null ? that.docked : true);
//        }
//        this._fixHeight = function () {
//            if (that._autoHeight) {
//                var ds = !that.fixedContent && that._ap()[0] == 'left' ? (that.docked ? that._ds() : that.dockOffset) : 0;
//                that.container.height(that.content.outerHeight(true) + ds);
//            }
//        }
//        this.toggle = function () {
//            that._setDocked(!that.docked);
//            if (!that.fixedContent) {
//                var o = {};
//                o[that.dockPosition] = that.docked ? that._ds() : that.dockOffset;
//                that.content.animate(o);
//            }
//            if (that.docked) that._fixHeight();
//            that.slide(function () { that._setHover(); that.toggleHandle(); if (!that.docked) that._fixHeight(); });
//        }
//        this.toggleHandle = function () {
//            if (that.handle.length > 1) {
//                that.handle.not("[data-handle='hidden']").toggle(that.docked);
//                that.handle.filter("[data-handle='hidden']").toggle(!that.docked);
//            }
//        }
//        this.slide = function (cb) {
//            var o1 = {}, o2 = {}; ds = that._ds();
//            o1[that.dockPosition] = that.docked || that._hover ? 0 : -ds + that.dockOffset;
//            that.dock.animate(o1, cb);
//            that.handle.each(function () {
//                var jq = $(this);
//                var o = jq.data('o');
//                o2[that.dockPosition] = that.docked || that._hover ? ds + o : o + that.dockOffset;
//                jq.animate(o2);
//            });
//        }
//        this.docked = this._getDocked();
//        this.dock.css(this.dockPosition, this.docked ? 0 : -this._ds() + that.dockOffset);
//        if (!this.fixedContent) {
//            this.content.css(this.dockPosition, this.docked ? this._ds() : that.dockOffset);
//            this.dock.css(this._ap()[0], 0).css(this._ap()[1], 0);
//        }
//        this.handle.each(function () {
//            var jq = $(this);
//            var o = parseInt(jq.css(that.dockPosition)) || 0;
//            jq.data('o', o);
//            jq.css(that.dockPosition, that.docked ? that._ds() + o : o + that.dockOffset);
//        });
//        this.handle.click(this.toggle);
//        this._fixHeight();
//        this._setHover();
//        this.toggleHandle();
//        return this;
//    }

    //]]>
</script>


<style type="text/css">

</style>

<script>



    //<![CDATA[








    //]]>


</script>
<style type="text/css">


</style>


</body>
</html>
<!--//EFO:0000400-->
<!--//    http://localhost:8280/gwas/beta/efotrait/EFO_0000400-->
<!--https://wwwdev.ebi.ac.uk/gwas/beta/rest/docs/index-->
<!--https://wwwdev.ebi.ac.uk/gwas/beta/rest/api/efoTraits/search-->
<!--https://wwwdev.ebi.ac.uk/gwas/beta/rest/api/efoTraits-->
<!--https://wwwdev.ebi.ac.uk/gwas/beta/rest/api-->
<!--https://wwwdev.ebi.ac.uk/gwas/beta/rest/api/efoTraits/71-->
<!--https://wwwdev.ebi.ac.uk/gwas/beta/rest/api/efoTraits/search/findByUri?uri=http://www.ebi.ac.uk/efo/EFO_0000400-->
<!--https://michigangenomics.org/genetic_data.html-->
<!--https://github.com/statgen/locuszoom/wiki/Data-Sources-->
<!--http://wwwdev.ebi.ac.uk/gwas/beta/rest/api/parentMapping/EFO_0000400-->
<!--xintodo get request too long-->
