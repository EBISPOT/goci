require=function e(t,o,n){function r(i,c){if(!o[i]){if(!t[i]){var s="function"==typeof require&&require;if(!c&&s)return s(i,!0);if(a)return a(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var l=o[i]={exports:{}};t[i][0].call(l.exports,function(e){var o=t[i][1][e];return r(o?o:e)},l,l.exports,e,t,o,n)}return o[i].exports}for(var a="function"==typeof require&&require,i=0;i<n.length;i++)r(n[i]);return r}({1:[function(require,module,exports){!function(exports){"function"!=typeof exports.decycle&&(exports.decycle=function(e){"use strict";var t=[],o=[];return function n(e,r){var a,i,c;switch(typeof e){case"object":if(!e)return null;for(a=0;a<t.length;a+=1)if(t[a]===e)return{$ref:o[a]};if(t.push(e),o.push(r),"[object Array]"===Object.prototype.toString.apply(e))for(c=[],a=0;a<e.length;a+=1)c[a]=n(e[a],r+"["+a+"]");else{c={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(c[i]=n(e[i],r+"["+JSON.stringify(i)+"]"))}return c;case"number":case"string":case"boolean":return e}}(e,"$")}),"function"!=typeof exports.retrocycle&&(exports.retrocycle=function retrocycle($){"use strict";var px=/^\$(?:\[(?:\d+|\"(?:[^\\\"\u0000-\u001f]|\\([\\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\])*$/;return function rez(value){var i,item,name,path;if(value&&"object"==typeof value)if("[object Array]"===Object.prototype.toString.apply(value))for(i=0;i<value.length;i+=1)item=value[i],item&&"object"==typeof item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[i]=eval(path):rez(item));else for(name in value)"object"==typeof value[name]&&(item=value[name],item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[name]=eval(path):rez(item)))}($),$})}("undefined"!=typeof exports?exports:window.JSON?window.JSON:window.JSON={})},{}],2:[function(e,t,o){var n=e("./json2"),r=e("./cycle");n.decycle=r.decycle,n.retrocycle=r.retrocycle,t.exports=n},{"./cycle":1,"./json2":3}],3:[function(require,module,exports){!function(JSON){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var o,n,r,a,i,c=gap,s=t[e];switch(s&&"object"==typeof s&&"function"==typeof s.toJSON&&(s=s.toJSON(e)),"function"==typeof rep&&(s=rep.call(t,e,s)),typeof s){case"string":return quote(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(gap+=indent,i=[],"[object Array]"===Object.prototype.toString.apply(s)){for(a=s.length,o=0;o<a;o+=1)i[o]=str(o,s)||"null";return r=0===i.length?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+c+"]":"["+i.join(",")+"]",gap=c,r}if(rep&&"object"==typeof rep)for(a=rep.length,o=0;o<a;o+=1)"string"==typeof rep[o]&&(n=rep[o],r=str(n,s),r&&i.push(quote(n)+(gap?": ":":")+r));else for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r=str(n,s),r&&i.push(quote(n)+(gap?": ":":")+r));return r=0===i.length?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+c+"}":"{"+i.join(",")+"}",gap=c,r}}"undefined"==typeof exports&&("function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null}),"function"!=typeof String.prototype.toJSON&&(String.prototype.toJSON=function(e){return this.valueOf()}),"function"!=typeof Number.prototype.toJSON&&(Number.prototype.toJSON=function(e){return this.valueOf()}),"function"!=typeof Boolean.prototype.toJSON&&(Boolean.prototype.toJSON=function(e){return this.valueOf()}));var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,o){var n;if(gap="",indent="","number"==typeof o)for(n=0;n<o;n+=1)indent+=" ";else"string"==typeof o&&(indent=o);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var o,n,r=e[t];if(r&&"object"==typeof r)for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n=walk(r,o),void 0!==n?r[o]=n:delete r[o]);return reviver.call(e,t,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}("undefined"!=typeof exports?exports:window.JSON?window.JSON:window.JSON={})},{}],4:[function(e,t,o){!function(){"use strict";function e(){var e=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),e=!0,window.localStorage.removeItem("_tmptest")}catch(t){}if(e)try{window.localStorage&&(v=window.localStorage,O="localStorage",T=v.jStorage_update)}catch(r){}else if("globalStorage"in window)try{window.globalStorage&&(v="localhost"==window.location.hostname?window.globalStorage["localhost.localdomain"]:window.globalStorage[window.location.hostname],O="globalStorage",T=v.jStorage_update)}catch(a){}else{if(w=document.createElement("link"),!w.addBehavior)return void(w=null);w.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(w);try{w.load("jStorage")}catch(i){w.setAttribute("jStorage","{}"),w.save("jStorage"),w.load("jStorage")}var s="{}";try{s=w.getAttribute("jStorage")}catch(u){}try{T=w.getAttribute("jStorage_update")}catch(g){}v.jStorage=s,O="userDataBehavior"}c(),l(),o(),f(),"addEventListener"in window&&window.addEventListener("pageshow",function(e){e.persisted&&n()},!1)}function t(){var e="{}";if("userDataBehavior"==O){w.load("jStorage");try{e=w.getAttribute("jStorage")}catch(t){}try{T=w.getAttribute("jStorage_update")}catch(o){}v.jStorage=e}c(),l(),f()}function o(){"localStorage"==O||"globalStorage"==O?"addEventListener"in window?window.addEventListener("storage",n,!1):document.attachEvent("onstorage",n):"userDataBehavior"==O&&setInterval(n,1e3)}function n(){var e;clearTimeout(N),N=setTimeout(function(){if("localStorage"==O||"globalStorage"==O)e=v.jStorage_update;else if("userDataBehavior"==O){w.load("jStorage");try{e=w.getAttribute("jStorage_update")}catch(t){}}e&&e!=T&&(T=e,r())},25)}function r(){var e,o=S.parse(S.stringify(m.__jstorage_meta.CRC32));t(),e=S.parse(S.stringify(m.__jstorage_meta.CRC32));var n,r=[],i=[];for(n in o)if(o.hasOwnProperty(n)){if(!e[n]){i.push(n);continue}o[n]!=e[n]&&"2."==String(o[n]).substr(0,2)&&r.push(n)}for(n in e)e.hasOwnProperty(n)&&(o[n]||r.push(n));a(r,"updated"),a(i,"deleted")}function a(e,t){e=[].concat(e||[]);var o,n,r,a;if("flushed"==t){e=[];for(var i in x)x.hasOwnProperty(i)&&e.push(i);t="deleted"}for(o=0,r=e.length;o<r;o++){if(x[e[o]])for(n=0,a=x[e[o]].length;n<a;n++)x[e[o]][n](e[o],t);if(x["*"])for(n=0,a=x["*"].length;n<a;n++)x["*"][n](e[o],t)}}function i(){var e=(+new Date).toString();if("localStorage"==O||"globalStorage"==O)try{v.jStorage_update=e}catch(t){O=!1}else"userDataBehavior"==O&&(w.setAttribute("jStorage_update",e),w.save("jStorage"));n()}function c(){if(v.jStorage)try{m=S.parse(String(v.jStorage))}catch(e){v.jStorage="{}"}else v.jStorage="{}";b=v.jStorage?String(v.jStorage).length:0,m.__jstorage_meta||(m.__jstorage_meta={}),m.__jstorage_meta.CRC32||(m.__jstorage_meta.CRC32={})}function s(){d();try{v.jStorage=S.stringify(m),w&&(w.setAttribute("jStorage",v.jStorage),w.save("jStorage")),b=v.jStorage?String(v.jStorage).length:0}catch(e){}}function u(e){if("string"!=typeof e&&"number"!=typeof e)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==e)throw new TypeError("Reserved key name");return!0}function l(){var e,t,o,n,r=1/0,c=!1,u=[];if(clearTimeout(j),m.__jstorage_meta&&"object"==typeof m.__jstorage_meta.TTL){e=+new Date,o=m.__jstorage_meta.TTL,n=m.__jstorage_meta.CRC32;for(t in o)o.hasOwnProperty(t)&&(o[t]<=e?(delete o[t],delete n[t],delete m[t],c=!0,u.push(t)):o[t]<r&&(r=o[t]));r!=1/0&&(j=setTimeout(l,Math.min(r-e,2147483647))),c&&(s(),i(),a(u,"deleted"))}}function f(){var e,t;if(m.__jstorage_meta.PubSub){var o,n=J,r=[];for(e=t=m.__jstorage_meta.PubSub.length-1;e>=0;e--)o=m.__jstorage_meta.PubSub[e],o[0]>J&&(n=o[0],r.unshift(o));for(e=r.length-1;e>=0;e--)g(r[e][1],r[e][2]);J=n}}function g(e,t){if(C[e])for(var o=0,n=C[e].length;o<n;o++)try{C[e][o](e,S.parse(S.stringify(t)))}catch(r){}}function d(){if(m.__jstorage_meta.PubSub){for(var e=+new Date-2e3,t=0,o=m.__jstorage_meta.PubSub.length;t<o;t++)if(m.__jstorage_meta.PubSub[t][0]<=e){m.__jstorage_meta.PubSub.splice(t,m.__jstorage_meta.PubSub.length-t);break}m.__jstorage_meta.PubSub.length||delete m.__jstorage_meta.PubSub}}function p(e,t){m.__jstorage_meta||(m.__jstorage_meta={}),m.__jstorage_meta.PubSub||(m.__jstorage_meta.PubSub=[]),m.__jstorage_meta.PubSub.unshift([+new Date,e,t]),s(),i()}function _(e,t){for(var o,n=e.length,r=t^n,a=0;n>=4;)o=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24,o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16),o^=o>>>24,o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^o,n-=4,++a;switch(n){case 3:r^=(255&e.charCodeAt(a+2))<<16;case 2:r^=(255&e.charCodeAt(a+1))<<8;case 1:r^=255&e.charCodeAt(a),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)}return r^=r>>>13,r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16),r^=r>>>15,r>>>0}var h="0.4.12",y=window.jQuery||window.$||(window.$={}),S={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(e){return String(e).evalJSON()}||y.parseJSON||y.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||y.toJSON};if("function"!=typeof S.parse||"function"!=typeof S.stringify)throw new Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");var j,m={__jstorage_meta:{CRC32:{}}},v={jStorage:"{}"},w=null,b=0,O=!1,x={},N=!1,T=0,C={},J=+new Date,$={isXML:function(e){var t=(e?e.ownerDocument||e:0).documentElement;return!!t&&"HTML"!==t.nodeName},encode:function(e){if(!this.isXML(e))return!1;try{return(new XMLSerializer).serializeToString(e)}catch(t){try{return e.xml}catch(o){}}return!1},decode:function(e){var t,o="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(e){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t};return!!o&&(t=o.call("DOMParser"in window&&new DOMParser||window,e,"text/xml"),!!this.isXML(t)&&t)}};y.jStorage={version:h,set:function(e,t,o){if(u(e),o=o||{},"undefined"==typeof t)return this.deleteKey(e),t;if($.isXML(t))t={_is_xml:!0,xml:$.encode(t)};else{if("function"==typeof t)return;t&&"object"==typeof t&&(t=S.parse(S.stringify(t)))}return m[e]=t,m.__jstorage_meta.CRC32[e]="2."+_(S.stringify(t),2538058380),this.setTTL(e,o.TTL||0),a(e,"updated"),t},get:function(e,t){return u(e),e in m?m[e]&&"object"==typeof m[e]&&m[e]._is_xml?$.decode(m[e].xml):m[e]:"undefined"==typeof t?null:t},deleteKey:function(e){return u(e),e in m&&(delete m[e],"object"==typeof m.__jstorage_meta.TTL&&e in m.__jstorage_meta.TTL&&delete m.__jstorage_meta.TTL[e],delete m.__jstorage_meta.CRC32[e],s(),i(),a(e,"deleted"),!0)},setTTL:function(e,t){var o=+new Date;return u(e),t=Number(t)||0,e in m&&(m.__jstorage_meta.TTL||(m.__jstorage_meta.TTL={}),t>0?m.__jstorage_meta.TTL[e]=o+t:delete m.__jstorage_meta.TTL[e],s(),l(),i(),!0)},getTTL:function(e){var t,o=+new Date;return u(e),e in m&&m.__jstorage_meta.TTL&&m.__jstorage_meta.TTL[e]?(t=m.__jstorage_meta.TTL[e]-o,t||0):0},flush:function(){return m={__jstorage_meta:{CRC32:{}}},s(),i(),a(null,"flushed"),!0},storageObj:function(){function e(){}return e.prototype=m,new e},index:function(){var e,t=[];for(e in m)m.hasOwnProperty(e)&&"__jstorage_meta"!=e&&t.push(e);return t},storageSize:function(){return b},currentBackend:function(){return O},storageAvailable:function(){return!!O},listenKeyChange:function(e,t){u(e),x[e]||(x[e]=[]),x[e].push(t)},stopListening:function(e,t){if(u(e),x[e]){if(!t)return void delete x[e];for(var o=x[e].length-1;o>=0;o--)x[e][o]==t&&x[e].splice(o,1)}},subscribe:function(e,t){if(e=(e||"").toString(),!e)throw new TypeError("Channel not defined");C[e]||(C[e]=[]),C[e].push(t)},publish:function(e,t){if(e=(e||"").toString(),!e)throw new TypeError("Channel not defined");p(e,t)},reInit:function(){t()},noConflict:function(e){return delete window.$.jStorage,e&&(window.jStorage=this),this}},e()}()},{}],"ols-treeview":[function(e,t,o){e("JSON2"),e("jstorage"),t.exports=olstree=function(){function e(e){var t="terms";return"property"==e?t="properties":"individual"==e?t="individuals":"ontology"==e&&(t="ontology"),t}function t(e){window.location.href=e}function o(t){i.empty(),i.each(function(){var o=c,n=e(s),r=u,i=l?l:"";$.jstree.defaults.core.data=!0,$.jstree.defaults.core.expand_selected_onload=!0;var g=i+"/api/ontologies/"+o+"/"+n+"/roots?size=500",d=i+"/api/ontologies/"+o+"/"+n+"/",p=d+encodeURIComponent(encodeURIComponent(r))+"/jstree";t&&(p+="?siblings=true");var _=["sort"];f.checkbox&&(_.push("checkbox","changed"),f.onclick=function(e,t,o,n,r,a,i){}),console.log("ciao");var h=$("<div></div>").jstree({core:{data:function(e,t){if("#"===e.id&&""!=r)f.save_state&&$.jStorage.get(r)?t($.jStorage.get(r)):$.getJSON(p,function(e){t(e)}).fail(function(){console.log("Could not connect to "+p)});else if("#"===e.id&&""===r)$.getJSON(g,function(e){var e=a(e,"#",n);t(e)}).fail(function(){console.log("Could not connect to "+p)});else{var o=e.original.iri?e.original.iri:e.original.a_attr.iri,i=d+encodeURIComponent(encodeURIComponent(o))+"/jstree/children/"+e.id;$.getJSON(i,function(e){t(e)}).fail(function(){console.log("Could not connect to "+p)})}f.save_state&&""!=r&&$.jStorage.get(r)&&$.jStorage.deleteKey(r)},themes:{dots:!0,icons:!1,name:"proton"}},checkbox:{three_state:f.checkbox_three_state,cascade:f.checkbox_cascade},plugins:_}).bind("select_node.jstree",function(e,t,o){var a=$(this).jstree(!0).get_json(),c=t.node.original.iri?t.node.original.iri:t.node.original.a_attr.iri,s=t.node.original.ontology_name?t.node.original.ontology_name:t.node.original.a_attr.ontology_name;f.save_state&&$.jStorage.set(c,a),f.onclick.call(this,o,t,i,r,n,c,s)}).bind("after_close.jstree",function(e,t){var o=$(this).jstree(!0);o.delete_node(t.node.children),o._model.data[t.node.id].state.loaded=!1}).on("changed.jstree",function(e,t){f.onchange.call(this,e,t)});$(this).append(h)})}function n(o,n,r,a,i,c,s){var u=i;"individuals"==u&&termIri!=c&&(u=e("terms"));var l=r+"ontologies/"+s+"/"+u+"?iri="+encodeURIComponent(c);t(l)}function r(e,t){console.log("newly selected:"),console.log(t.changed.selected),console.log("newly deselected:"),console.log(t.changed.deselected),console.log("event passed to onChange:"),console.log(e),console.log("data passed to onChange:"),console.log(t)}function a(e,t,o){var n=[],r=1,a=[];return void 0!=e._embedded&&("properties"==o?a=e._embedded.properties:"individuals"==o?a=e._embedded.individuals:"terms"==o&&(a=e._embedded.terms)),$.each(a,function(e,o){var a=t+"_"+r,i=t;"#"===t&&(a=r,i=t),n.push({id:a,parent:i,iri:o.iri,ontology_name:o.ontology_name,text:o.label,leaf:!o.has_children,children:o.has_children,a_attr:{iri:o.iri,ontology_name:o.ontology_name,title:o.iri,"class":"is_a"}}),r++}),n}var i,c,s,u,l,f={onclick:n,save_state:!1,checkbox:!0,checkbox_cascade:"down",checkbox_three_state:!1,onchange:r};olstree.prototype.draw=function(e,t,n,r,a,g,d){f=jQuery.extend(!0,{},f,d),i=e,c=n,s=r,u=a,l=g,o(t)},olstree.prototype.drawWithSelectBox=function(e,t,o,n){$("#"+e).html('<select class="selectpicker"><option>Select your ontology</option></select>');var r=($("#selectpicker"),[]);$.getJSON(o+"/api/ontologies?size=1000",function(a){ontologies=a._embedded.ontologies;for(var i=0;i<ontologies.length;i++)r.push({id:ontologies[i].ontologyId,title:ontologies[i].config.title});$.each(r,function(t,o){$("#"+e+" .selectpicker").append("<option value='"+o.id+"'>"+o.id+" - "+o.title+"</option>")}),$("#"+e+" .selectpicker").on("change",function(){var r=$("#"+e+" .selectpicker option:selected").val();olstree.prototype.draw(t,!1,r,"terms","",o,n)})}).fail(function(){console.log("something went wrong with the webservice call")})},olstree.prototype.toggleSiblings=function(e){var t="true"==$(e).val();t?($(e).text("Hide siblings"),$(e).val(!1)):($(e).text("Show siblings"),$(e).val(!0)),o(t)}}},{JSON2:2,jstorage:4}]},{},[]);